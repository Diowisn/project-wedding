<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Pernikahan Aldi Asdira & Rizki Putri Pungkasari</title>
    <link
      href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&family=Montserrat:wght@300;400;600&display=swap"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"
    />
    <link rel="stylesheet" href="css/style.css" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
  </head>

  <body>
    <!-- Cover / Opening Page -->
    <div
      id="openingPage"
      style="
        position: fixed;
        z-index: 9999;
        top: 0;
        left: 0;
        width: 100vw;
        height: 100vh;
        background: url('img/bg/wedding.jpg') center center/cover no-repeat;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        color: white;
        font-family: 'Playfair Display', serif;
        text-align: center;
      "
    >
      <h3>The Wedding of</h3>
      <h2 style="font-size: 32px; margin-bottom: 10px">Aldi & Rizki</h2>
      <h3 style="margin-bottom: 10px">Kepada</h3>
      <h1 style="font-size: 42px; margin-bottom: 20px">Bapak/Ibu</h1>
      <p style="margin-bottom: 20px">
        Tanpa Mengurangi Rasa Hormat, Kami Mengundang Bapak/Ibu/Saudara/i untuk
        Hadir di Acara Kami.
      </p>
      <button
        onclick="openInvitation()"
        style="
          background-color: #d4af7a;
          color: white;
          padding: 12px 25px;
          font-size: 18px;
          border: none;
          border-radius: 8px;
          cursor: pointer;
          transition: background-color 0.3s ease;
        "
      >
        Buka Undangan
      </button>
    </div>

    <!-- Hero Section -->
    <section class="hero" id="home">
      <div class="hero-content">
        <h1>Aldi & Rizki</h1>
        <p>We're getting married on <br />June 15, 2025</p>
        <a href="#rsvp" class="btn" style="background-color: #3c3c3c"
          >RSVP Now</a
        >

        <div class="countdown">
          <div class="countdown-item">
            <div class="countdown-number" id="days">00</div>
            <div class="countdown-label">Days</div>
          </div>
          <div class="countdown-item">
            <div class="countdown-number" id="hours">00</div>
            <div class="countdown-label">Hours</div>
          </div>
          <div class="countdown-item">
            <div class="countdown-number" id="minutes">00</div>
            <div class="countdown-label">Minutes</div>
          </div>
          <div class="countdown-item">
            <div class="countdown-number" id="seconds">00</div>
            <div class="countdown-label">Seconds</div>
          </div>
        </div>
      </div>
    </section>

    <div class="section-ornament">
      <img src="img/bg/ornament3.png" alt="Ornament" class="ornament-img" />
    </div>

    <!-- Couple Introduction Section -->
    <section class="couple-intro" id="couple">
      <div class="container">
        <div class="section-title">
          <h2>بِسْمِ اللهِ الرَّحْمٰنِ الرَّحِيْم</h2>
        </div>
        <div class="couple-container">
          <div class="couple-profile fade-in">
            <p class="couple-details">
              Assalamu'alaikum Warohmatullahi Wabarokatuh
            </p>
            <p class="couple-details">
              Dengan memohon Ridho serta Rahmat Allah SWT <br />
              dan tanpa mengurangi rasa hormat, kami bermaksud <br />
              mengundang Bapak/Ibu/Saudara/i untuk menghadiri <br />
              acara pernikahan kami
            </p>
          </div>
        </div>
        <br />

        <div class="couple-container">
          <!-- Groom -->
          <div class="couple-profile fade-in">
            <div class="photo-wrapper">
              <img
                src="img/profile/male.jpg"
                alt="Groom"
                class="couple-photo"
              />
              <img src="img/bg/ornament5.png" alt="" class="photo-frame" />
            </div>
            <h3 class="couple-name">Aldi Asdira</h3>
            <p class="couple-details">
              Putra dari Bapak Sugiyo & Ibu Suharni<br />
              Dukuh Gandil RT 08 Ds. Bendungan, kec. Kedawung, Kab. Sragen
            </p>
          </div>

          <!-- Symbol with animation -->
          <div class="couple-symbol heart-beat">&</div>

          <!-- Bride -->
          <div class="couple-profile fade-in">
            <div class="photo-wrapper">
              <img
                src="img/profile/female.jpg"
                alt="Bride"
                class="couple-photo"
              />
              <img src="img/bg/ornament5.png" alt="" class="photo-frame" />
            </div>
            <h3 class="couple-name">Rizki Putri Pungkasari</h3>
            <p class="couple-details">
              Putri dari Bapak Mulyono & Ibu Alm.Djuariyah/Uswatun Chasanah
              Noor<br />
              Dukuh Griya Purwosuman Asri RT 07 Ds. Purwosuman, kec.Sidoharjo,
              Kab.Sragen
            </p>
          </div>
        </div>
      </div>
    </section>

    <div class="section-ornament">
      <img src="img/bg/ornament3.png" alt="Ornament" class="ornament-img" />
    </div>

    <!-- Event Details Section -->
    <section class="event-details" id="events">
      <div class="container">
        <div class="section-title">
          <h2>Event Details</h2>
        </div>

        <div class="event-cards">
          <div class="event-card">
            <div class="event-icon">
              <i class="fas fa-heart"></i>
            </div>
            <h3>Wedding Reception</h3>
            <div class="event-date">SUNDAY, 15 June. 2023</div>
            <div class="event-time">10:00 AM - 11:00 AM</div>
            <div class="event-address">
              Dukuh Gandil RT 08 Ds. Bendungan, kec. Kedawung, Kab. Sragen
            </div>

            <div class="map-container">
              <iframe
                src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d441.5446890450583!2d111.04688506531394!3d-7.466073146299256!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x2e7a1d004c05234f%3A0xd33e190512a95187!2sLokasi%20Pernikahan%20Aldi%20Asdira%20%26%20Rizki%20Putri%20Pungkasar!5e1!3m2!1sen!2sid!4v1746037295980!5m2!1sen!2sid"
                width="100%"
                height="250"
                style="border: 0"
                allowfullscreen=""
                loading="lazy"
                referrerpolicy="no-referrer-when-downgrade"
                class="wedding-map"
              >
              </iframe>
            </div>
            <a
              href="https://maps.google.com/?q=-7.466023117342424, 111.04681714129258"
              target="_blank"
              class="btn"
              >View Full Map</a
            >
          </div>
        </div>
      </div>
    </section>

    <div class="section-ornament">
      <img src="img/bg/ornament3.png" alt="Ornament" class="ornament-img" />
    </div>

    <!-- Gallery Section -->
    <section class="gallery" id="gallery">
      <div class="container">
        <div class="section-title">
          <h2>Gallery</h2>
        </div>

        <div class="gallery-grid">
          <div class="gallery-item">
            <img src="img/gallery/image4.jpg" alt="Couple photo" />
          </div>
          <div class="gallery-item">
            <img src="img/gallery/image5.jpg" alt="Couple photo" />
          </div>
          <div class="gallery-item">
            <img src="img/gallery/image6.jpg" alt="Couple photo" />
          </div>
          <div class="gallery-item">
            <img src="img/gallery/image7.jpg" alt="Couple photo" />
          </div>
          <div class="gallery-item">
            <img src="img/gallery/image8.jpg" alt="Couple photo" />
          </div>
        </div>
      </div>
    </section>

    <div class="section-ornament">
      <img src="img/bg/ornament3.png" alt="Ornament" class="ornament-img" />
    </div>

    <!-- RSVP Section -->
    <section class="rsvp" id="rsvp">
      <div class="container">
        <div class="section-title">
          <h2>RSVP</h2>
          <p>Please let us know if you can attend our wedding</p>
        </div>

        <div class="rsvp-form">
          <form id="wedding-rsvp">
            <div class="form-group">
              <label for="name">Your Name</label>
              <input
                type="text"
                id="name"
                name="name"
                class="form-control"
                required
              />
            </div>

            <!-- <div class="form-group">
              <label for="phone">Phone Number</label>
              <input
                type="tel"
                id="phone"
                name="phone"
                class="form-control"
                required
              />
            </div> -->

            <div class="form-group">
              <label for="guests">Number of Guests</label>
              <select id="guests" name="guests" class="form-control" required>
                <option value="" disabled selected hidden>Select number</option>
                <option value="1">1</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5+</option>
              </select>
            </div>

            <div class="form-group">
              <label>Will you attend?</label>
              <div class="radio-group">
                <label class="radio-option">
                  <input type="radio" name="attending" value="yes" checked />
                  Yes
                </label>
                <label class="radio-option">
                  <input type="radio" name="attending" value="no" />
                  No
                </label>
              </div>
            </div>

            <!-- <div class="form-group">
              <label for="message">Message (Optional)</label>
              <textarea
                id="message"
                name="message"
                class="form-control"
              ></textarea>
            </div> -->

            <button type="submit" class="btn">Submit RSVP</button>
          </form>
        </div>
      </div>
    </section>

    <div class="section-ornament">
      <img src="img/bg/ornament3.png" alt="Ornament" class="ornament-img" />
    </div>

    <!-- Kirim Hadiah Section -->
    <section class="gift-transfer" id="hadiah">
      <div class="container">
        <div class="section-title">
          <h2>KIRIM HADIAH</h2>
        </div>
        <div class="couple-container">
          <p class="couple-details">
            Doa Restu Anda merupakan karunia yang sangat berarti bagi kami.
            Namun jika memberi adalah ungkapan tanda kasih Anda, kami akan
            senang hati menerimanya dan tentu semakin melengkapi kebahagiaan
            kami.
          </p>
          <br />
        </div>

        <div class="bank-transfer-card">
          <div class="bank-details">
            <div class="bank-info">
              <div class="bank-logo">
                <img
                  src="img/logo/bsi2.png"
                  alt="Logo Bank BSI"
                  width="45%"
                  height="100%"
                />
              </div>
              <span class="account-number">7257505857</span>
              <span class="account-holder">A/N: Aldi Asdira</span>
            </div>

            <button class="copy-btn" onclick="copyAccountNumber('7257505857')">
              <i class="fas fa-copy"></i> Salin
            </button>
          </div>
        </div>
      </div>
    </section>

    <div class="section-ornament">
      <img src="img/bg/ornament3.png" alt="Ornament" class="ornament-img" />
    </div>

    <!-- Kirim Ucapan Section -->
    <section class="wishes-section" id="ucapan">
      <div class="container">
        <div class="section-title">
          <h2>KIRIM UCAPAN</h2>
        </div>

        <div class="couple-container">
          <p class="couple-details">
            Tinggalkan kami doa terbaik anda untuk moment bahagia kami
          </p>
        </div>
        
        <div class="wishes-form">
          <div class="wishes-stats">
            <span id="comments-count">0 Comments</span>
          </div>
          <form id="send-wishes">
            <div class="form-group">
              <input
                type="text"
                id="sender-name"
                name="sender-name"
                class="form-control"
                placeholder="Nama"
                required
              />
            </div>

            <div class="form-group">
              <textarea
                id="wishes-message"
                name="wishes-message"
                class="form-control"
                placeholder="Ucapan"
                required
              ></textarea>
            </div>

            <button type="submit" class="btn">Kirim</button>
          </form>

          <div
            class="wishes-comments card-scroll"
            style="
              max-height: 300px;
              overflow-y: auto;
              padding: 15px;
              border: 1px solid #d4af7a;
              border-radius: 10px;
              background-color: #3c3c3c;
            "
          >
            <!-- Komentar muncul disini -->
          </div>
          <button
            id="load-more-wishes"
            class="btn"
            style="margin-top: 20px; display: none"
          >
            Lihat Lebih Banyak
          </button>
        </div>
      </div>
    </section>

    <!-- Floating Music Player -->
    <div class="music-player">
      <button id="musicToggle" class="music-btn">
        <i class="fas fa-play"></i>
      </button>
    </div>

    <!-- Bottom Navigation -->
    <nav class="bottom-nav">
      <ul class="nav-links">
        <li>
          <a href="#home" class="active">
            <i class="fas fa-home"></i>
          </a>
        </li>
        <li>
          <a href="#couple">
            <i class="fas fa-heart"></i>
          </a>
        </li>
        <li>
          <a href="#events">
            <i class="fas fa-calendar-alt"></i>
          </a>
        </li>
        <li>
          <a href="#rsvp">
            <i class="fas fa-envelope"></i>
          </a>
        </li>
        <li>
          <a href="#hadiah">
            <i class="fas fa-gift"></i>
          </a>
        </li>
      </ul>
    </nav>

    <!-- Footer -->
    <footer style="background-color: #3c3c3c">
      <div class="container" style="background-color: #3c3c3c">
        <div class="footer-logo">Aldi & Rizki</div>

        <!-- <div class="social-links">
                <a href="#" class="social-link"><i class="fab fa-facebook-f"></i></a>
                <a href="#" class="social-link"><i class="fab fa-twitter"></i></a>
                <a href="#" class="social-link"><i class="fab fa-instagram"></i></a>
                <a href="#" class="social-link"><i class="fab fa-pinterest"></i></a>
            </div> -->

        <div class="copyright">
          &copy; 2025
          <a
            href="https://github.com/Diowisn"
            style="color: #d4af7a"
            target="_blank"
            >Diowisn</a
          >. All Rights Reserved.
        </div>
      </div>
    </footer>
  </body>

  <script src="js/script.js" defer></script>
  <script>
    const form = document.getElementById("wedding-rsvp");

    form.addEventListener("submit", (e) => {
      e.preventDefault();

      const formData = {
        name: form.querySelector("#name").value,
        phone: form.querySelector("#phone").value,
        guests: form.querySelector("#guests").value,
        attending: form.querySelector('input[name="attending"]:checked').value,
        message: form.querySelector("#message").value,
      };

      if (!formData.name || !formData.phone || !formData.guests) {
        alert("Please fill in all required fields!");
        return;
      }

      // Format pesan untuk WhatsApp
    const whatsappMessage = 
      `Halo! Aku mau konfirmasi RSVP ya 🎉\n\n` +
      `👤 Nama: ${formData.name}\n` +
      `📞 Nomor HP: ${formData.phone}\n` +
      `👥 Jumlah tamu: ${formData.guests} orang\n` +
      `🎈 Akan hadir: ${formData.attending === "yes" ? "Iya dong!" : "Maaf, nggak bisa hadir"}\n` +
      (formData.message ? `💬 Pesan tambahan: ${formData.message}` : "");

      const phoneNumber = "6281234567890"; // Ganti dengan nomor tujuan (tanpa +, gunakan kode negara, misal 62 untuk Indonesia)
      const whatsappURL = `https://wa.me/${+6282325847439}?text=${encodeURIComponent(whatsappMessage)}`;

      // Buka WhatsApp
      window.open(whatsappURL, "_blank");

      // Reset form jika perlu
      form.reset();
    });
  </script>

  <script>
    document.addEventListener("DOMContentLoaded", () => {
      const wishesForm = document.getElementById("send-wishes");
      const commentsContainer = document.querySelector(".wishes-comments");
      const commentsCount = document.getElementById("comments-count");
      const loadMoreBtn = document.getElementById("load-more-wishes");

      let offset = 0;
      const limit = 3;

      function loadWishes(loadMore = false) {
        fetch(`wishes_fetch.php?limit=${limit}&offset=${offset}`)
          .then((res) => res.json())
          .then((data) => {
            if (data.status === "success") {
              if (!loadMore) {
                commentsContainer.innerHTML = "";
              }

              data.comments.forEach((comment) => {
                const commentHTML = `
              <div class="comment">
                <div class="comment-header">
                  <span class="comment-name">${comment.sender_name}</span>
                </div>
                <div class="comment-text">${comment.message}</div>
                <div class="comment-footer">
                  <span class="comment-time">${new Date(
                    comment.created_at
                  ).toLocaleString()}</span>
                </div>
              </div>
            `;
                commentsContainer.innerHTML += commentHTML;
              });

              if (data.comments.length < limit) {
                loadMoreBtn.style.display = "none";
              } else {
                loadMoreBtn.style.display = "inline-block";
              }

              offset += limit;
              updateCommentsCount();
            }
          });
      }

      function updateCommentsCount() {
        fetch("wishes_fetch.php?limit=99999&offset=0")
          .then((res) => res.json())
          .then((data) => {
            if (data.status === "success") {
              commentsCount.textContent = `${data.comments.length} Comments`;
            }
          });
      }

      wishesForm.addEventListener("submit", function (e) {
        e.preventDefault();
        const senderName = document.getElementById("sender-name").value;
        const message = document.getElementById("wishes-message").value;

        if (!senderName || !message) {
          alert("Nama dan ucapan wajib diisi.");
          return;
        }

        fetch("wishes_submit.php", {
          method: "POST",
          headers: {
            "Content-Type": "application/json",
          },
          body: JSON.stringify({
            senderName,
            message,
          }),
        })
          .then((res) => res.json())
          .then((data) => {
            if (data.status === "success") {
              wishesForm.reset();
              offset = 0;
              loadWishes();
            } else {
              alert("Gagal mengirim ucapan: " + data.message);
            }
          });
      });

      loadMoreBtn.addEventListener("click", () => {
        loadWishes(true);
      });

      loadWishes();
    });
  </script>
</html>
